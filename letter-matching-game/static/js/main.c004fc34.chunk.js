(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports={header:"Header_header__1PS8I"}},132:function(e,t,a){e.exports={body:"Body_body__2OfF-"}},138:function(e,t,a){e.exports={table:"Statistics_table__ed1VP"}},143:function(e,t,a){e.exports=a(283)},152:function(e,t,a){},222:function(e,t,a){},24:function(e,t,a){e.exports={card:"Card_card__PxXep",hidden:"Card_hidden__BXXeN",cardFilpper:"Card_cardFilpper__1P11z",back:"Card_back__2h1pN",flipContainer:"Card_flipContainer__k9UsW",flip:"Card_flip__Ead9O",flipper:"Card_flipper__16zZm",front:"Card_front__2UJTE"}},283:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(3),c=a.n(i),l=a(19),o=(a(152),a(30)),s=a(128),u=a(51),d=a(9),m={won:0,lost:0,bestTime:{easy:"--:--",normal:"--:--",hard:"--:--"}},p=function(e){return function(t){t({type:"statistic/SET_STATISTIC",statistics:e})}},h={timer:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t({type:"timer/SET_TIMER",timer:e})}},v=a(129),b=a.n(v),g=a(57),E=a(97),C=a.n(E),y=a(130),O=a.n(y),T={easy:{value:"easy",label:"Easy",cols:4,rows:4,time:2},normal:{value:"normal",label:"Normal",cols:4,rows:4,time:1},hard:{value:"hard",label:"Hard",cols:6,rows:6,time:2}},j="letter_matching_statistics";function _(){var e=localStorage.getItem(j);if(e&&"string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(t),!1}return{won:0,lost:0,bestTime:{easy:"--:--",normal:"--:--",hard:"--:--"}}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=_();return e.forEach(function(e){var a=e.path,n=e.value;a&&O()(t,a,n)}),localStorage.setItem(j,JSON.stringify(t)),t}var k=function(e,t){T[e]&&t&&t(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cols*e.rows/2,a=[],n=0;n<t;n++){var r=String.fromCharCode(65+Math.floor(26*Math.random()));a.push(r)}return C()([].concat(a,Object(g.a)(C()(a))))}(T[e]))},w=function(e,t){var a,n=e.grid,r=e.visibledCards,i=e.eliminatedCards,c=function(e,t){switch(e.length){case 0:return[t];case 1:return[].concat(Object(g.a)(e),[t]);default:return[]}}(r,t),l=i;2===c.length&&(n[c[0]]===n[t]?(a=!0,l=[].concat(Object(g.a)(l),Object(g.a)(c))):a=!1);return{isMatch:a,visibledCards:c,eliminatedCards:l}},I=function(e,t,a){return!(!e.length||!a.length||e.length!==a.length||0!==t.length)},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=e.split(":");return 1*t[0]*60+1*t[1]}return!1},A=function(e){var t=function(e,t){return("000"+e).slice(-1*t)},a=parseFloat(e).toFixed(3),n=Math.floor(a/60)%60,r=Math.floor(a-60*n);return t(n,2)+":"+t(r,2)},N={level:"",grid:[],isPlaying:!1,visibledCards:[],eliminatedCards:[]},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t({type:"game/SET_LEVEL",level:e})}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){t({type:"game/INITIALIZE_GRID",grid:e})}},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){t({type:"game/SET_PLAYING",value:e})}},L=function(e){return function(t,a){var n=a().game,r=w(n,e),i=r.isMatch,c=r.visibledCards,l=r.eliminatedCards;t({type:"game/SET_VISIBLE_CARD",nextState:{visibledCards:c}}),void 0!==i&&b()(function(){var e=i?"game/MATCHING_SUCCESS":"game/MATCHING_FAILURE",a=i?{eliminatedCards:l}:{};t(Object(d.a)({type:e},a))},800)}},R=function(){return function(e){e({type:"game/RESTART_GAME"})}},F=function(){return function(e){e({type:"game/RESET_GAME"})}},V=Object(o.c)({statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"statistic/SET_STATISTIC":return Object(d.a)({},t.statistics);case"statistic/SET_STATISTIC_WON_LOST":return Object(d.a)({},e,Object(u.a)({},t.field,t.count));case"statistic/SET_STATISTIC_BEST_TIME":return Object(d.a)({},e,{bestTime:Object(d.a)({},e.bestTime,Object(u.a)({},t.level,t.time))});default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"timer/SET_TIMER":return Object(d.a)({},e,{timer:t.timer});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"game/SET_LEVEL":return Object(d.a)({},e,{level:t.level});case"game/INITIALIZE_GRID":return Object(d.a)({},e,{grid:t.grid});case"game/SET_PLAYING":return Object(d.a)({},e,{isPlaying:t.value});case"game/SET_VISIBLE_CARD":return Object(d.a)({},e,t.nextState);case"game/MATCHING_SUCCESS":return Object(d.a)({},e,{visibledCards:[],eliminatedCards:t.eliminatedCards});case"game/MATCHING_FAILURE":return Object(d.a)({},e,{visibledCards:[]});case"game/RESTART_GAME":return Object(d.a)({},e,{grid:[],isPlaying:!1,visibledCards:[],eliminatedCards:[]});case"game/RESET_GAME":return Object(d.a)({},N);default:return e}}}),B=[s.a],U=o.d.apply(void 0,[o.a.apply(void 0,B)].concat([])),D=Object(o.e)(V,{},U),H=(a(221),a(222),a(131)),W=a.n(H),J=function(e){var t=e.children;return r.a.createElement("header",{className:W.a.header},t)},Y=a(132),X=a.n(Y),Z=function(e){var t=e.children;return r.a.createElement("section",{className:X.a.body},t)},z=a(11),$=a(12),q=a(16),K=a(13),Q=a(17),ee=a(284),te=a(54),ae=a(94),ne=a.n(ae),re=ee.a.Option,ie=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.dispatch)(M(e))},a.handleStart=function(){var e=a.props,t=e.level,n=e.dispatch;k(t,function(e){return n(x(e))})},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.level,a=e.grid,i=e.isPlaying,c=ne()(T),l=a.length>0||i;return r.a.createElement(n.Fragment,null,r.a.createElement(ee.a,{value:t,dropdownMatchSelectWidth:!1,disabled:l,onChange:this.handleChange},r.a.createElement(re,{value:""},"Select level"),c.map(function(e){return r.a.createElement(re,{key:e.value,value:e.value},e.label)})),r.a.createElement(te.a,{type:"primary",className:"margin-left",disabled:!t||l,onClick:this.handleStart},"Start"))}}]),t}(n.PureComponent),ce=Object(l.b)(function(e){return e.game})(ie),le=a(286),oe=a(287),se=a(138),ue=a.n(se),de=function(e){var t=e.won,a=e.lost,n=e.bestTime;return r.a.createElement("div",null,r.a.createElement(le.a,{gutter:16},r.a.createElement(oe.a,{span:2},"Won:"),r.a.createElement(oe.a,{span:4},t)),r.a.createElement(le.a,{gutter:16},r.a.createElement(oe.a,{span:2},"Lost:"),r.a.createElement(oe.a,{span:4},a)),r.a.createElement(le.a,{gutter:16,className:"margin-top"},r.a.createElement(oe.a,{span:2},"Best time:"),r.a.createElement(oe.a,{span:4},r.a.createElement("table",{className:ue.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Easy"),r.a.createElement("th",null,"Normal"),r.a.createElement("th",null,"Hard"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,n.easy),r.a.createElement("td",null,n.normal),r.a.createElement("td",null,n.hard)))))))},me=function(e){function t(){return Object(z.a)(this,t),Object(q.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){var e=_();"object"===typeof e&&(0,this.props.dispatch)(p(e))}},{key:"render",value:function(){return r.a.createElement(de,this.props)}}]),t}(n.PureComponent),pe=Object(l.b)(function(e){return e.statistic})(me),he=a(285),fe=a(10),ve=a(139),be=a.n(ve),ge=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(r)))).startTimer=function(){if(a.timer){var e=a.props.startValue;a.timer.start({countdown:!0,startValues:{seconds:e}}),a.timer.addEventListener("secondsUpdated",function(){var e=a.props,t=e.onChange,n=e.checkTimerExpired,r=e.checkGameCompleted,i=a.timer.getTimeValues().toString(["minutes","seconds"]);t&&t(i),!0===r()?a.stopTimer():n(i)})}},a.stopTimer=function(){a.timer&&(a.timer.stop(),a.timer.removeEventListener("secondsUpdated"))},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.timer=new be.a,this.startTimer(),this.props.startGame()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){var e=this.props.value;return r.a.createElement(n.Fragment,null,r.a.createElement(fe.a,{type:"clock-circle"})," Time remaining: ",e||"Loading...")}}]),t}(n.PureComponent),Ee=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(i)))).getStartValue=function(){var e=a.props.level;return 60*T[e].time},a.startGame=function(){(0,a.props.dispatch)(P())},a.restartGame=function(){var e=a.props,t=e.level,n=e.dispatch;a.startGame(),k(t,function(e){return n(x(e))})},a.stopGame=function(){var e=a.props.dispatch;e(f("")),e(R())},a.resetGame=function(){(0,a.props.dispatch)(F())},a.setStatistics=function(){var e=a.props,t=e.lost,n=e.dispatch,r=S([{path:"lost",value:t+1}]);n(p(r))},a.showFailureModal=function(){he.a.confirm({title:"Oops!!!",content:"You just ran out of time. Better luck next time.",okText:"Try again",cancelText:"Too hard? Try different level",icon:r.a.createElement(fe.a,{type:"close-circle",style:{color:"red"}}),onOk:function(){a.restartGame()},onCancel:function(){a.resetGame()}})},a.checkTimerExpired=function(e){a.props.isPlaying&&"00:00"===e&&(a.stopGame(),a.setStatistics(),a.showFailureModal())},a.checkGameCompleted=function(){var e=a.props,t=e.grid,n=e.visibledCards,r=e.eliminatedCards;return I(t,n,r)},a.handleChange=function(e){(0,a.props.dispatch)(f(e))},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.grid,a=e.timer;return t.length>0?r.a.createElement(ge,{value:a,startValue:this.getStartValue(),startGame:this.startGame,onChange:this.handleChange,checkTimerExpired:this.checkTimerExpired,checkGameCompleted:this.checkGameCompleted}):null}}]),t}(n.PureComponent),Ce=Object(l.b)(function(e){return Object(d.a)({},e.game,e.timer,e.statistic)})(Ee),ye=a(24),Oe=a.n(ye),Te=function(e){var t=e.index,a=e.isVisibled,n=e.isEliminated,i=e.content,c=e.onClick;return r.a.createElement("div",{className:"".concat(Oe.a.card," ").concat(n?Oe.a.hidden:""),onClick:function(){return c(a,n,t)}},r.a.createElement("div",{className:"".concat(Oe.a.flipContainer," ").concat(a||n?Oe.a.flip:"")},r.a.createElement("div",{className:Oe.a.flipper},r.a.createElement("div",{className:"".concat(Oe.a.cardFilpper," ").concat(Oe.a.front)}),r.a.createElement("div",{className:"".concat(Oe.a.cardFilpper,"  ").concat(Oe.a.back)},i))))},je=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(i)))).handleCardClick=function(e,t,n){var r=a.props,i=r.visibledCards,c=r.onCardClick;return!e&&!t&&i.length<2?c(n):null},a.renderCardByState=function(e,t,n){var i=a.props,c=i.visibledCards,l=i.eliminatedCards,o=c.indexOf(n)>-1,s=l.indexOf(n)>-1;return r.a.createElement(oe.a,{key:t+n,span:e},r.a.createElement(Te,{index:n,isVisibled:o,isEliminated:s,content:t,onClick:a.handleCardClick}))},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.level,n=t.grid,i=T[a],c=24/Math.round(n.length/i.cols);return r.a.createElement(le.a,{gutter:2,type:"flex"},n.map(function(t,a){return e.renderCardByState(c,t,a)}))}}]),t}(n.PureComponent),_e=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(r)))).handleCardClick=function(e){(0,a.props.dispatch)(L(e))},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return this.props.isPlaying?r.a.createElement(je,Object.assign({},this.props,{onCardClick:this.handleCardClick})):null}}]),t}(n.PureComponent),Se=Object(l.b)(function(e){return e.game})(_e),ke=function(e){function t(){var e,a;Object(z.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(q.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(i)))).startGame=function(){(0,a.props.dispatch)(P())},a.restartGame=function(){var e=a.props,t=e.level,n=e.dispatch;a.startGame(),k(t,function(e){return n(x(e))})},a.stopGame=function(){(0,a.props.dispatch)(R())},a.newGame=function(){var e=a.props.dispatch;e(f("")),e(F())},a.setStatistics=function(){var e=a.props,t=e.level,n=e.timer,r=e.won,i=e.dispatch,c=60*T[t].time-G(n),l=S([{path:"won",value:r+1},{path:"bestTime.".concat(t),value:A(c)}]);i(p(l))},a.showCompleteModal=function(){he.a.confirm({title:"Congratulations!!!",content:"Your memory is still useful.",okText:"Try again",cancelText:"Too easy? Try different level",icon:r.a.createElement(fe.a,{type:"check-circle",style:{color:"green"}}),onOk:function(){return a.restartGame()},onCancel:function(){return a.newGame()}})},a}return Object(Q.a)(t,e),Object($.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.grid,n=t.visibledCards,r=t.eliminatedCards;!0===I(a,n,r)&&(this.stopGame(),this.setStatistics(),this.showCompleteModal())}},{key:"render",value:function(){return null}}]),t}(n.PureComponent),we=Object(l.b)(function(e){return Object(d.a)({},e.game,e.timer,e.statistic)})(ke);var Ie=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null,r.a.createElement(ce,null),r.a.createElement("div",{className:"margin-top"},r.a.createElement(pe,null))),r.a.createElement(Z,null,r.a.createElement(Ce,null),r.a.createElement("div",{className:"margin-top"},r.a.createElement(Se,null),r.a.createElement(we,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:D},r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.c004fc34.chunk.js.map